[{"/Users/heimakte/bootcamp/redux/client/src/index.js":"1","/Users/heimakte/bootcamp/redux/client/src/App.js":"2","/Users/heimakte/bootcamp/redux/client/src/serviceWorker.js":"3","/Users/heimakte/bootcamp/redux/client/src/pages/Signup.js":"4","/Users/heimakte/bootcamp/redux/client/src/pages/Detail.js":"5","/Users/heimakte/bootcamp/redux/client/src/pages/NoMatch.js":"6","/Users/heimakte/bootcamp/redux/client/src/pages/Home.js":"7","/Users/heimakte/bootcamp/redux/client/src/pages/Success.js":"8","/Users/heimakte/bootcamp/redux/client/src/pages/OrderHistory.js":"9","/Users/heimakte/bootcamp/redux/client/src/pages/Login.js":"10","/Users/heimakte/bootcamp/redux/client/src/components/Nav/index.js":"11","/Users/heimakte/bootcamp/redux/client/src/utils/auth.js":"12","/Users/heimakte/bootcamp/redux/client/src/utils/helpers.js":"13","/Users/heimakte/bootcamp/redux/client/src/utils/mutations.js":"14","/Users/heimakte/bootcamp/redux/client/src/utils/queries.js":"15","/Users/heimakte/bootcamp/redux/client/src/utils/reducers.js":"16","/Users/heimakte/bootcamp/redux/client/src/components/Cart/index.js":"17","/Users/heimakte/bootcamp/redux/client/src/components/ProductList/index.js":"18","/Users/heimakte/bootcamp/redux/client/src/components/Jumbotron/index.js":"19","/Users/heimakte/bootcamp/redux/client/src/components/CategoryMenu/index.js":"20","/Users/heimakte/bootcamp/redux/client/src/components/CartItem/index.js":"21","/Users/heimakte/bootcamp/redux/client/src/components/ProductItem/index.js":"22","/Users/heimakte/bootcamp/redux/client/src/features/category.js":"23","/Users/heimakte/bootcamp/redux/client/src/features/cart.js":"24","/Users/heimakte/bootcamp/redux/client/src/features/products.js":"25"},{"size":792,"mtime":1681697421995,"results":"26","hashOfConfig":"27"},{"size":1610,"mtime":1681701040943,"results":"28","hashOfConfig":"27"},{"size":5080,"mtime":1647638346000,"results":"29","hashOfConfig":"27"},{"size":2422,"mtime":1647638346000,"results":"30","hashOfConfig":"27"},{"size":2935,"mtime":1681685694080,"results":"31","hashOfConfig":"27"},{"size":371,"mtime":1647638346000,"results":"32","hashOfConfig":"27"},{"size":340,"mtime":1647638346000,"results":"33","hashOfConfig":"27"},{"size":1073,"mtime":1647638346000,"results":"34","hashOfConfig":"27"},{"size":1416,"mtime":1647638346000,"results":"35","hashOfConfig":"27"},{"size":1932,"mtime":1647638346000,"results":"36","hashOfConfig":"27"},{"size":1280,"mtime":1647638346000,"results":"37","hashOfConfig":"27"},{"size":1015,"mtime":1647638346000,"results":"38","hashOfConfig":"27"},{"size":1388,"mtime":1647638346000,"results":"39","hashOfConfig":"27"},{"size":836,"mtime":1647638346000,"results":"40","hashOfConfig":"27"},{"size":961,"mtime":1681691598332,"results":"41","hashOfConfig":"27"},{"size":2346,"mtime":1647638346000,"results":"42","hashOfConfig":"27"},{"size":2780,"mtime":1681680793919,"results":"43","hashOfConfig":"27"},{"size":1871,"mtime":1681702250058,"results":"44","hashOfConfig":"27"},{"size":234,"mtime":1647638346000,"results":"45","hashOfConfig":"27"},{"size":1301,"mtime":1681700664811,"results":"46","hashOfConfig":"27"},{"size":1446,"mtime":1681681101933,"results":"47","hashOfConfig":"27"},{"size":1438,"mtime":1681701204348,"results":"48","hashOfConfig":"27"},{"size":650,"mtime":1681697188171,"results":"49","hashOfConfig":"27"},{"size":1196,"mtime":1681685583314,"results":"50","hashOfConfig":"27"},{"size":378,"mtime":1681685648290,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"17j1oix",{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"54"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"54"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"54"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"/Users/heimakte/bootcamp/redux/client/src/index.js",[],["107","108"],"/Users/heimakte/bootcamp/redux/client/src/App.js",[],"/Users/heimakte/bootcamp/redux/client/src/serviceWorker.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/Signup.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/Detail.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/NoMatch.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/Home.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/Success.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/OrderHistory.js",[],"/Users/heimakte/bootcamp/redux/client/src/pages/Login.js",[],"/Users/heimakte/bootcamp/redux/client/src/components/Nav/index.js",[],"/Users/heimakte/bootcamp/redux/client/src/utils/auth.js",["109"],"import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","/Users/heimakte/bootcamp/redux/client/src/utils/helpers.js",[],"/Users/heimakte/bootcamp/redux/client/src/utils/mutations.js",[],"/Users/heimakte/bootcamp/redux/client/src/utils/queries.js",[],"/Users/heimakte/bootcamp/redux/client/src/utils/reducers.js",[],"/Users/heimakte/bootcamp/redux/client/src/components/Cart/index.js",["110"],"import React, { useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { useLazyQuery } from \"@apollo/client\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { QUERY_CHECKOUT } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport CartItem from \"../CartItem\";\nimport Auth from \"../../utils/auth\";\nimport { toggleCart, addMultipleToCart } from \"../../features/cart\";\nimport \"./style.css\";\n\nconst stripePromise = loadStripe(\"pk_test_TYooMQauvdEDq54NiTphI7jx\");\n\nconst Cart = () => {\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart);\n  const cartOpen = useSelector((state) => state.cartOpen);\n\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n\n  useEffect(() => {\n    if (data) {\n      stripePromise.then((res) => {\n        res.redirectToCheckout({ sessionId: data.checkout.session });\n      });\n    }\n  }, [data]);\n\n  useEffect(() => {\n    async function getCart() {\n      const cart = await idbPromise(\"cart\", \"get\");\n      dispatch(addMultipleToCart([...cart]));\n    }\n\n    if (!cart.length) {\n      getCart();\n    }\n  }, [cart.length, dispatch]);\n\n  function calculateTotal() {\n    let sum = 0;\n    cart.forEach((item) => {\n      sum += item.price * item.purchaseQuantity;\n    });\n    return sum.toFixed(2);\n  }\n\n  function handleCheckout() {\n    const productIds = cart.flatMap((item) => {\n      Array(item.purchaseQuantity).fill(item._id);\n      dispatch(getCheckout(productIds));\n    });\n\n    cart.forEach((item) => {\n      for (let i = 0; i < item.purchaseQuantity; i++) {\n        productIds.push(item._id);\n      }\n    });\n\n    getCheckout({\n      variables: { products: productIds },\n    });\n  }\n\n  if (!cartOpen) {\n    return (\n      <div className=\"cart-closed\" onClick={() => dispatch(toggleCart)}>\n        <span role=\"img\" aria-label=\"trash\">\n          🛒\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart\">\n      <div className=\"close\" onClick={() => dispatch(toggleCart)}>\n        [close]\n      </div>\n      <h2>Shopping Cart</h2>\n      {cart.length ? (\n        <div>\n          {cart.map((item) => (\n            <CartItem key={item._id} item={item} />\n          ))}\n\n          <div className=\"flex-row space-between\">\n            <strong>Total: ${calculateTotal()}</strong>\n\n            {Auth.loggedIn() ? (\n              <button onClick={handleCheckout}>Checkout</button>\n            ) : (\n              <span>(log in to check out)</span>\n            )}\n          </div>\n        </div>\n      ) : (\n        <h3>\n          <span role=\"img\" aria-label=\"shocked\">\n            😱\n          </span>\n          You haven't added anything to your cart yet!\n        </h3>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n","/Users/heimakte/bootcamp/redux/client/src/components/ProductList/index.js",["111"],"import React, { useEffect, useState } from \"react\";\nimport ProductItem from \"../ProductItem\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateProducts } from \"../../features/products\";\nimport { useQuery } from \"@apollo/client\";\nimport { QUERY_PRODUCTS } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport spinner from \"../../assets/spinner.gif\";\n\nfunction ProductList() {\n  const dispatch = useDispatch();\n  const products = useSelector((state) => state.products);\n  const { currentCategory } = useSelector((state) => state.categories);\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  useEffect(() => {\n    if (data) {\n      dispatch(updateProducts(data.products));\n      data.products.forEach((product) => {\n        idbPromise(\"products\", \"put\", product);\n      });\n    } else if (!loading) {\n      idbPromise(\"products\", \"get\").then((products) => {\n        dispatch(updateProducts(products));\n      });\n    }\n  }, [data, loading, dispatch]);\n\n  function filterProducts() {\n    if (!currentCategory) {\n      return products.products[0];\n    }\n\n    return products.products[0].filter(\n      (product) => product.category._id === currentCategory\n    );\n  }\n\n  return (\n    <div className=\"my-2\">\n      <h2>Our Products:</h2>\n      {products.products.length ? (\n        <div className=\"flex-row\">\n          {filterProducts().map((product) => (\n            <ProductItem\n              key={product._id}\n              _id={product._id}\n              image={product.image}\n              name={product.name}\n              price={product.price}\n              quantity={product.quantity}\n            />\n          ))}\n        </div>\n      ) : (\n        <h3>You haven't added any products yet!</h3>\n      )}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </div>\n  );\n}\n\nexport default ProductList;\n","/Users/heimakte/bootcamp/redux/client/src/components/Jumbotron/index.js",[],"/Users/heimakte/bootcamp/redux/client/src/components/CategoryMenu/index.js",[],"/Users/heimakte/bootcamp/redux/client/src/components/CartItem/index.js",[],"/Users/heimakte/bootcamp/redux/client/src/components/ProductItem/index.js",["112","113"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateCartQuantity, addToCart } from \"../../features/cart\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction ProductItem(item) {\n  const state = useSelector((state) => state);\n  const cart = useSelector((state) => state.cart);\n  const dispatch = useDispatch();\n\n  const { image, name, _id, price, quantity } = item;\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id);\n    if (itemInCart) {\n      dispatch(\n        updateCartQuantity(_id, parseInt(itemInCart.purchaseQuantity) + 1)\n      );\n      idbPromise(\"cart\", \"put\", {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n    } else {\n      dispatch(addToCart({ ...item, purchaseQuantity: 1 }));\n      idbPromise(\"cart\", \"put\", { ...item, purchaseQuantity: 1 });\n    }\n  };\n\n  return (\n    <div className=\"card px-1 py-1\">\n      <Link to={`/products/${_id}`}>\n        <img alt={name} src={`/images/${image}`} />\n        <p>{name}</p>\n      </Link>\n      <div>\n        <div>\n          {quantity} {pluralize(\"item\", quantity)} in stock\n        </div>\n        <span>${price}</span>\n      </div>\n      <button onClick={addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default ProductItem;\n","/Users/heimakte/bootcamp/redux/client/src/features/category.js",[],"/Users/heimakte/bootcamp/redux/client/src/features/cart.js",[],"/Users/heimakte/bootcamp/redux/client/src/features/products.js",[],{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":45,"column":1,"nodeType":"120","endLine":45,"endColumn":34},{"ruleId":"121","severity":1,"message":"122","line":49,"column":44,"nodeType":"123","messageId":"124","endLine":49,"endColumn":46},{"ruleId":"125","severity":1,"message":"126","line":1,"column":28,"nodeType":"127","messageId":"128","endLine":1,"endColumn":36},{"ruleId":"125","severity":1,"message":"129","line":5,"column":30,"nodeType":"127","messageId":"128","endLine":5,"endColumn":39},{"ruleId":"125","severity":1,"message":"130","line":9,"column":9,"nodeType":"127","messageId":"128","endLine":9,"endColumn":14},"no-native-reassign",["131"],"no-negated-in-lhs",["132"],"import/no-anonymous-default-export","Assign instance to a variable before exporting as module default","ExportDefaultDeclaration","array-callback-return","Array.prototype.flatMap() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'addToCart' is defined but never used.","'state' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]